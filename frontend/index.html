<!doctype html>
<html lang="ru" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ó–∞–¥–∞—á–∏ ‚Äî –≤ —Å—Ç–∏–ª–µ Apple Notes</title>
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body class="h-full">
    <div class="notes-app">
      <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
      <header class="app-toolbar">
        <div class="toolbar-left">
          <h1 class="app-title">–ó–∞–¥–∞—á–∏</h1>
          <label class="search">
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M10 18a8 8 0 1 1 5.293-2.707l4.707 4.707-1.414 1.414-4.707-4.707A7.963 7.963 0 0 1 10 18m0-2a6 6 0 1 0 0-12 6 6 0 0 0 0 12"/>
            </svg>
            <input id="search" type="search" placeholder="–ü–æ–∏—Å–∫" autocomplete="off" />
          </label>
        </div>
        <div class="toolbar-right">
          <button id="themeToggle" class="icon-btn" type="button" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
          <button id="newTaskBtn" class="btn primary" type="button">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</button>
        </div>
      </header>

      <!-- –¢—Ä–∏ –ø–∞–Ω–µ–ª–∏ -->
      <div class="app-shell">
        <!-- –°–∞–π–¥–±–∞—Ä -->
        <aside id="sidebar" class="sidebar" aria-label="–§–∏–ª—å—Ç—Ä—ã">
          <nav class="nav-group">
            <div class="nav-header">–ü–∞–ø–∫–∏</div>

            <button class="nav-item active" data-filter="all" type="button">
              <span class="nav-label">–í—Å–µ</span>
              <span class="nav-count" id="countAll">0</span>
            </button>

            <button class="nav-item" data-filter="today" type="button">
              <span class="nav-label">–°–µ–≥–æ–¥–Ω—è</span>
              <span class="nav-count" id="countToday">0</span>
            </button>

            <button class="nav-item" data-filter="week" type="button">
              <span class="nav-label">–ù–∞ –Ω–µ–¥–µ–ª—é</span>
              <span class="nav-count" id="countWeek">0</span>
            </button>

            <button class="nav-item" data-filter="overdue" type="button">
              <span class="nav-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ</span>
              <span class="nav-count" id="countOverdue">0</span>
            </button>

            <button class="nav-item" data-filter="completed" type="button">
              <span class="nav-label">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</span>
              <span class="nav-count" id="countCompleted">0</span>
            </button>
          </nav>

          <nav class="nav-group">
            <div class="nav-header">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</div>
            <button class="nav-item" data-priority="high" type="button">
              <span class="dot dot-high" aria-hidden="true"></span>
              <span class="nav-label">–í—ã—Å–æ–∫–∏–π</span>
            </button>
            <button class="nav-item" data-priority="medium" type="button">
              <span class="dot dot-medium" aria-hidden="true"></span>
              <span class="nav-label">–°—Ä–µ–¥–Ω–∏–π</span>
            </button>
            <button class="nav-item" data-priority="low" type="button">
              <span class="dot dot-low" aria-hidden="true"></span>
              <span class="nav-label">–ù–∏–∑–∫–∏–π</span>
            </button>
          </nav>
        </aside>

        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <main class="content" aria-label="–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á">
          <!-- –ü–∞–Ω–µ–ª—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
          <section class="sortbar">
            <div class="sortbar-group">
              <label class="sort-field">
                <span>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</span>
                <select id="sort_by" class="input input--sm">
                  <option value="created_at">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</option>
                  <option value="due_at">–î–µ–¥–ª–∞–π–Ω</option>
                  <option value="priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</option>
                </select>
              </label>
              <label class="sort-field">
                <span>–ü–æ—Ä—è–¥–æ–∫</span>
                <select id="sort_order" class="input input--sm">
                  <option value="desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                  <option value="asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                </select>
              </label>
            </div>
            <div class="sortbar-actions">
              <button id="reload" class="btn ghost btn--sm" type="button">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
          </section>

          <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
          <section class="list-pane card" aria-live="polite">
            <div id="taskList" class="note-list" role="list"></div>
          </section>
        </main>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä -->
        <aside class="detail-pane card" id="detailPane" aria-label="–î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏">
          <div class="placeholder" id="detailEmpty">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞—á—É</h2>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —á–µ—Ä–µ–∑ ¬´–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞¬ª –≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞.</p>
          </div>

          <article class="detail" id="detailCard" hidden>
            <header class="detail-header">
              <h2 id="detailTitle" class="detail-title"></h2>
              <div class="detail-actions">
                <button id="detailToggleDone" class="btn subtle" type="button">–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
                <button id="detailDelete" class="btn danger" type="button">–£–¥–∞–ª–∏—Ç—å</button>
              </div>
            </header>

            <div id="detailBody" class="detail-body"></div>

            <dl class="detail-meta">
              <div class="meta-row">
                <dt>–î–µ–¥–ª–∞–π–Ω</dt>
                <dd id="detailDue">‚Äî</dd>
              </div>
              <div class="meta-row">
                <dt>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</dt>
                <dd id="detailPriority">‚Äî</dd>
              </div>
              <div class="meta-row">
                <dt>–°–æ–∑–¥–∞–Ω–æ</dt>
                <dd id="detailCreatedAt">‚Äî</dd>
              </div>
            </dl>
          </article>
        </aside>
      </div>
    </div>

    <!-- Sheet: –°–û–ó–î–ê–ù–ò–ï –ù–û–í–û–ô –ó–ê–î–ê–ß–ò -->
    <div id="createModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="createTitle">
      <div class="modal-sheet">
        <form id="createForm" autocomplete="off">
          <div id="createTitle" class="modal-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</div>

          <div class="modal-body">
            <div style="display:grid; gap:10px;">
              <input id="c_title" class="input" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" required />

              <!-- –°–∞–º–∞ –∑–∞–º–µ—Ç–∫–∞ -->
              <textarea id="c_body" class="input" rows="5" placeholder="–¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏"></textarea>

              <div style="display:grid; grid-template-columns: 1fr 160px; gap:10px;">
                <input id="c_due" class="input" type="datetime-local" />
                <select id="c_priority" class="input">
                  <option value="low">–ù–∏–∑–∫–∏–π</option>
                  <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                  <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                </select>
              </div>
            </div>
          </div>

          <div class="modal-actions">
            <button type="button" id="createCancel" class="btn ghost">–û—Ç–º–µ–Ω–∞</button>
            <button type="submit" id="createSave" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
    <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-sheet">
        <div id="modalTitle" class="modal-title">–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É?</div>
        <div class="modal-body">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</div>
        <div class="modal-actions">
          <button id="modalCancel" class="btn ghost" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button id="modalOk" class="btn danger" type="button">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –¢–æ—Å—Ç—ã -->
    <div id="toastHost" aria-live="polite" aria-atomic="true"></div>

    <script type="module" src="/app.js"></script>
  </body>
</html>